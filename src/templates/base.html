{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- SEO optimization -->
        <meta name="description"
              content="Track your astronomical observations and telescope sessions with Lodestar." />
        <meta name="keywords"
              content="astronomy, observation log, planet, star, deep sky, telescope, stargazing, universe, space" />
        <meta name="author" content="Project Lodestar" />
        <!-- Each template can provide its own tab title -->
        <title>
            {% block title %}
            {% endblock title %}
        </title>
        <!-- Tailwind CSS folder -->
        <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}" />
    </head>
    <body class="min-h-screen flex flex-col">
        <!-- navigation bar to be used across all website pages -->
        <nav class="flex">
            <div>
                <!-- logo -->
                <img src="{% static 'path' %}" alt="Lodestar Logo">
            </div>
            <!-- navigation links -->
            <ul class="flex">
                {% if user.is_authenticated %}
                <li>
                    <a href="{% url 'home' %}" class="nav-link">Home</a>
                </li>
                <li>
                    <a href="{% url 'add_observation' %}" class="nav-link">Add New Observation</a>
                </li>
                <li>
                    <a href="#" class="nav-link">My Observations</a>
                </li>
                <li>
                    <a href="#" class="nav-link">My Astronomy News</a>
                </li>
                {% else %}
                <li>
                    <a href="{% url 'home' %}" class="nav-link">Home</a>
                </li>
                {% endif %}
            </ul>
            <ul class="flex ml-auto">
                {% if user.is_authenticated %}
                    <p>{{ user.username }} is logged in</p>
                    <a href="{% url 'account_logout' %}">Click to Sign Out</a>
                {% else %}
                    <p>You are not signed in</p>
                    <a href="{% url 'account_login' %}">Click to Sign In</a>
                {% endif %}
            </nav>
            <!-- Messages Section -->
            <div class="flex-grow flex-col flex items-center justify-center">
                {% if messages %}
                    <div class="space-y-4 mb-8" role="alert" aria-live="polite">
                        {% for message in messages %}
                            <div class="backdrop-blur-sm rounded-xl p-4 border">
                                <div class="flex items-center">
                                    <span class="mr-2">
                                        {% if message.tags == 'success' %}
                                            ✅
                                        {% elif message.tags == 'error' %}
                                            ❌
                                        {% elif message.tags == 'warning' %}
                                            ⚠️
                                        {% else %}
                                            ℹ️
                                        {% endif %}
                                    </span>
                                    <span>{{ message }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                <!-- Main Content Block for Templates -->
                <main class="flex-grow">
                    {% block content %}
                    {% endblock content %}
                </main>
            </div>
            <footer class="flex justify-between">
                <div></div> <!-- Empty spacer for flex -->
                <ul class="flex">
                    <li>
                        <a href="#" class="nav-link">About</a>
                    </li>
                    <li>
                        <a href="#" class="nav-link">Resources</a>
                    </li>
                    <li>
                        <a href="#" class="nav-link">Privacy Policy</a>
                    </li>
                </ul>
                <p class="">2025 Lodestar Project</p>
            </footer>
        </body>
    </html>
